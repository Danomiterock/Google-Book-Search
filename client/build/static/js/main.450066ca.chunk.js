(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{42:function(e,t,n){e.exports=n(82)},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},59:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(31),o=n.n(l),c=(n(47),n(48),n(94)),i=n(97),u=n(38),s=n(92),m=n(85),f=n(96),d=(n(49),function(e){return r.a.createElement(s.a,{expand:"lg",sticky:"top",className:"mynavbar"},r.a.createElement(m.a,null,r.a.createElement(s.a.Brand,null,r.a.createElement(f.a,{to:"/",className:"text-light"},"Google Books Search")),r.a.createElement(s.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(s.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(f.a,{to:"/saved",className:"btn btn-danger ml-auto"},"Saved books"))))}),h=n(17),E=n(86),b=n(87),g=n(88),v=n(95),p=n(98),k=(n(59),function(e){return r.a.createElement(m.a,{className:"p-1"},r.a.createElement(E.a,null,r.a.createElement(b.a,{md:{span:8,offset:2}},r.a.createElement(g.a,{className:"mb-3"},r.a.createElement(v.a,{placeholder:"Book name","aria-label":"Book name",value:e.search,name:"search",id:"search",onChange:e.handleInputChange}),r.a.createElement(g.a.Append,null,r.a.createElement(p.a,{variant:"danger",onClick:e.handleFormSubmit},"Search"))))))}),w=n(93),j=n(15),y=n(35),N=n(36),S=n(40),O=n(37),C=n(90),B=n(91),I=n(14),x=n.n(I),F=function(){return x.a.get("/api/books")},L=function(e){return x.a.delete("/api/books/"+e)},H=function(e){return x.a.post("/api/books",e)},T=n(89),R=function(e){return e.buttonClicked?r.a.createElement(p.a,{variant:"primary",disabled:!0},r.a.createElement(T.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Loading..."):r.a.createElement(p.a,{variant:"danger",onClick:function(t){return e.handleFormSubmit(t,{title:e.result.volumeInfo.title,authors:Object(j.a)(e.result.volumeInfo.authors).join(", "),description:e.result.volumeInfo.description,image:e.result.volumeInfo.imageLinks.thumbnail,link:e.result.volumeInfo.previewLink})}},"Save")},W=function(e){return r.a.createElement("a",{className:"btn btn-warning",href:e.result.volumeInfo.previewLink,target:"_blank",rel:"noopener noreferrer"},"View")},_=function(e){Object(S.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(y.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={buttonClicked:!1},e.handleFormSubmit=function(t,n){t.preventDefault(),console.log(n),e.setState({buttonClicked:!0}),H(n).then((function(t){e.setState({buttonClicked:!1}),window.location.href="/saved"})).catch((function(e){return console.log(e)}))},e}return Object(N.a)(n,[{key:"render",value:function(){var e=this;return this.props.results.items.length>0?this.props.results.items.map((function(t){return r.a.createElement(w.a,{bg:"light",key:t.id,className:"my-3"},r.a.createElement(w.a.Header,{as:"h5",className:"d-flex justify-content-between align-items-center bg-light"},r.a.createElement(w.a.Title,{className:"font-weight-bold"},t.volumeInfo.title,r.a.createElement("br",null),r.a.createElement("small",null,Object(j.a)(t.volumeInfo.authors).join(", "))),r.a.createElement(C.a,null,r.a.createElement(W,{result:t}),r.a.createElement(R,{handleFormSubmit:e.handleFormSubmit,result:t}))),r.a.createElement(w.a.Body,null,r.a.createElement(B.a,{src:t.volumeInfo.imageLinks.thumbnail,className:"float-left img-thumbnail mr-2"}),r.a.createElement(w.a.Text,null,t.volumeInfo.description)))})):r.a.createElement("h1",null,"No books yet")}}]),n}(r.a.Component),A=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:"p-4 mb-5"},r.a.createElement(w.a,null,r.a.createElement(w.a.Header,null,"Results"),r.a.createElement(w.a.Body,null,r.a.createElement(_,{results:e.results})))))},D=(n(81),function(){var e="https://www.googleapis.com/books/v1/volumes?q=",t=Object(a.useState)({items:[]}),n=Object(h.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)("Harry Potter"),i=Object(h.a)(c,2),u=i[0],s=i[1];return Object(a.useEffect)((function(){x.a.get(e+u).then((function(e){return o(e.data)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{fluid:!0,className:"text-center bg-info p-5 main-search-container"},r.a.createElement("h1",null,"(React) Google Books Search"),r.a.createElement("h4",null,"Search for and Save Books of interest"),r.a.createElement(k,{handleInputChange:function(e){var t=e.target.value;s(t)},handleFormSubmit:function(t){t.preventDefault(),x.a.get(e+u).then((function(e){return o(e.data)})).catch((function(e){return console.log(e)}))},search:u})),r.a.createElement(A,{results:l}))}),G=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:"p-4 mb-5"},r.a.createElement(w.a,null,r.a.createElement(w.a.Header,null,"Saved books"),r.a.createElement(w.a.Body,null,e.children))))},J=function(){var e=Object(a.useState)({books:[]}),t=Object(h.a)(e,2),n=t[0],l=t[1];Object(a.useEffect)((function(){F().then((function(e){return l({books:e.data})})).catch((function(e){return console.log(e)}))}),[]);return r.a.createElement(G,null,n.books.length>0?n.books.reverse().map((function(e){return r.a.createElement(w.a,{bg:"dark",key:e._id,className:"my-3"},r.a.createElement(w.a.Header,{as:"h5",className:"d-flex justify-content-between align-items-center bg-dark"},r.a.createElement(w.a.Title,{className:"font-weight-bold"},e.title,r.a.createElement("br",null),r.a.createElement("small",null,Object(j.a)(e.authors).join(", "))),r.a.createElement(C.a,null,r.a.createElement("a",{className:"btn btn-secondary",href:e.link,target:"_blank",rel:"noopener noreferrer"},"View"),r.a.createElement(p.a,{variant:"danger",onClick:function(){return t=e._id,void L(t).then((function(e){return window.location.reload()})).catch((function(e){return console.log(e)}));var t}},"Remove"))),r.a.createElement(w.a.Body,null,r.a.createElement(B.a,{src:e.image,className:"float-left img-thumbnail mr-2"}),r.a.createElement(w.a.Text,null,e.description)))})):r.a.createElement("h5",null,"Click Save to Save a Book"))},V=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null,r.a.createElement(d,null),r.a.createElement(i.a,null,r.a.createElement(u.a,{exact:!0,path:"/",component:D}),r.a.createElement(u.a,{path:"/search",component:D}),r.a.createElement(u.a,{path:"/saved",component:J}))))},q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(V,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");q?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):z(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):z(e)}))}}()}},[[42,1,2]]]);
//# sourceMappingURL=main.450066ca.chunk.js.map